% td_exo_q package
% 
% (c) Filipe Vasconcelos
%
%% This program can be redistributed and/or modified under the terms
%% of the LaTeX Project Public License Distributed from CTAN archives
%% in directory macros/latex/base/lppl.txt.
% 
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{td_exo_q}
  [2017/06/05 v0.01 LaTeX package commande pour la cinématique des solides]

\def\hi{Ce paquet donne accès à un grand nombre de grandeur mathématique pour la cinématique des solides.}
\let\myDate\date

\RequirePackage{mdframed}


\newcounter{numques}
\setcounter{numques}{0}
\newcommand{\question}[1]{
\addtocounter{numques}{1}
\noindent {\textbf{Q\thenumques.}\,#1}
}


\newlength\mylen

\newcommand{\xxqed}[1]{%
  \settowidth\mylen{$#1$}%
  \vskip-2\baselineskip\hspace*{-\mylen}\llap{\hbox{\ensuremath{#1}}}%
}

\newcommand{\xqed}[1]{%
  \leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
  \quad\hbox{\ensuremath{#1}}}

\AtBeginEnvironment{exercice}{\setcounter{numques}{0}\stepcounter{exercice}}
\AtEndEnvironment{exercice}{\xqed{\blacksquare}}

\AtBeginEnvironment{corrige}{\setcounter{numques}{0}\stepcounter{corrige}}
\AtEndEnvironment{corrige}{\xqed{\blacksquare}}

\newmdenv[
  hidealllines=true,
  frametitle={\large Exercice~\theexercice},
  frametitlerule=true,
  frametitlerulecolor=black,
  frametitlerulewidth=2pt,
  frametitlefont=\bfseries,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  skipabove=.6\topskip,
  skipbelow=.6\topskip
]{exercice}

\newmdenv[
  hidealllines=true,
  frametitle={\large Corrigé~\thecorrige},
  frametitlerule=true,
  frametitlerulecolor=black,
  frametitlerulewidth=2pt,
  frametitlefont=\bfseries,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  skipabove=.6\topskip,
  skipbelow=.6\topskip
]{corrige}

\newcounter{exercice}[chapter]
\renewcommand\theexercice{\thechapter-\arabic{exercice}}

\newcounter{corrige}[chapter]
\renewcommand\thecorrige{\thechapter-\arabic{corrige}}

\endinput
%%
%% End of file `td_exo_q.sty'.
